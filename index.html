<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herbal Trinity - Medicinal Plants Guide</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#2d5016">
    <meta name="description" content="Interactive guide to medicinal plants with recipes, growing tips, and natural remedies">
<!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">
    
    <link rel="manifest" href="data:application/json;base64,eyJuYW1lIjoiSGVyYmFsIFRyaW5pdHkiLCJzaG9ydF9uYW1lIjoiSGVyYmFsIiwiZGVzY3JpcHRpb24iOiJJbnRlcmFjdGl2ZSBndWlkZSB0byBtZWRpY2luYWwgcGxhbnRzIHdpdGggcmVjaXBlcywgZ3Jvd2luZyB0aXBzLCBhbmQgbmF0dXJhbCByZW1lZGllcyIsImljb25zIjpbeyJzcmMiOiJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUIzYVdSMGFEMGlNVEk0SWlCb1pXbG5hSFE5SWpFeU9DSWdkbWxsZDFKdmVEMGlNQ0F3SURFeU9DQXlPRGdpSUdacGJHdzlJbk53WVdObFptSWlJSGh0Ykc1elBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHlNREF3TDNOMlp5SStQR1JsWm5NK1BHeHBibVZoY2tkeVlXUnBaVzUwSUdsa1BTSm5jbUZrTVNJK1BITjBiM0FnYjJabWMyVjBQU0l3SlNJZ2MzUnZjQzFqYjJ4dmNqMGlJelExTnpreE5pSXZQangxZEc5d0lHOW1abk5sZEQwaU1UQXdKU0lnYzNSdmNDMWpiMnh2Y2owaUl6YzBZako1TmlJdlBqd3ZiR2x1WldGeVIzSmhaR2xsYm5RK1BDOWtaV1p6UGp4elpXTjBhVzl1UGp4d1lYUm9JR1E5SWsweklEa3VNek0yYXpNM2JEVTRMak5qTWk0M0xTNHhMUzQ0TFRFdU1qSkVOREF1TXpnMk9TNHdNRGs1T1M0ek9TNWxaQzR6T1RnMk5pNDBNVE01TnprdU1UTXhNVEUxTGpreE16Z3VNVFkzTVRNNExqTTBNUzQ1TXk0MEZ6ZGxPREZEZEhsZjVnQ1RfR1Y5VXRZU3dIMlJIRmlaWFk4YkdWaFppQmtQU0pOUW00U0ZtNUlkbTVTUm1NMWREYTI0XCF2R1JKV1Y4YURnTUZ0eVFKVmVvcENhTHJ6bDA0Q2FsUk5xN2lwZ3NmSF5aU2ZCVkNDNHJqSGgxNkNDOUIxNkpndVFEQk5JenNBWFNJd3NSZFo0dWp3WklmYlhsST18LSIsInNpemVzIjoiMTkyeDE5MiIsInR5cGUiOiJpbWFnZS9zdmcreG1sIn1dLCJzdGFydF91cmwiOiIvIiwiZGlzcGxheSI6InN0YW5kYWxvbmUiLCJiYWNrZ3JvdW5kX2NvbG9yIjoiIzJkNTAxNiIsInRoZW1lX2NvbG9yIjoiIzJkNTAxNiJ9">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4IiBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAyODgiIGZpbGw9InNwYWNlZiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImdyYWQxIj48c3RvcCBvZmZzZXQ9IjAlIiBzdG9wLWNvbG9yPSIjNDU3OTE2Ii8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSIjNzRiMjcyIi8+PC9saW5lYXJHcmFkaWVudD48L2RlZnM+PHNlY3Rpb24+PHBhdGggZD0iTTI0IDE5NGQ4LjMgMi43LTUuMyA4LjN0IiBmaWxsPSJ1cmwoI2dyYWQxKSIgc3Ryb2tlPSIjNDA3ODBEIiBzdHJva2Utd2lkdGg9IjIiLz48Y2lyY2xlIGN4PSI4NCIgY3k9IjQ0IiByPSI1IiBmaWxsPSIjNzFiMjMyIi8+PGxlYWYgZD0iTTQ0IDI1bDYtN2w4LTZDNTQgMTkuNyA1NiAzMi41QzU2IDQ0LjQgNDRnMFY1LTFjMC0uNS4xLS41LjlMNDcuNSA5NGMtNS4yLjEtNC4xLjNjLTkuMyA5LTAtMTguMS0yLjEtMjYuOC0yLjFsLTYtN3otNTEuNyAyNS40QTguNCA4IDggOD0gOCgwOTUuMS0uMSA9Ij48L3NlY3Rpb24+PC9zdmc+">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2d5016;
            --primary-light: #457916;
            --secondary: #ff8c3a;
            --accent: #74b272;
            --bg-light: #f8fdf5;
            --bg-dark: #1a2e0d;
            --text-dark: #2d5016;
            --text-light: #ffffff;
            --shadow: rgba(45, 80, 22, 0.1);
            --border-radius: 16px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--bg-light) 0%, #e8f5e8 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        .app-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: var(--text-light);
            padding: 20px 0;
            box-shadow: 0 4px 20px var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 16px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 16px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: bold;
        }

.logo-icon {
    width: 120px;
    height: 120px;
    background: linear-gradient(145deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
    border: 2px solid;
    border-image: linear-gradient(145deg, rgba(255,193,7,0.8), rgba(116,178,114,0.8)) 1;
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 8px;
    transition: all 0.4s ease;
    box-shadow: 
        0 0 20px rgba(255,193,7,0.3),
        0 4px 15px rgba(0,0,0,0.2);
}

.logo-icon:hover {
    transform: scale(1.08) rotate(2deg);
    box-shadow: 
        0 0 30px rgba(255,193,7,0.5),
        0 8px 25px rgba(0,0,0,0.3);
}

.logo-icon img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: brightness(1.3) contrast(1.2) saturate(1.1) drop-shadow(0 2px 8px rgba(0,0,0,0.4));
    transition: all 0.4s ease;
}

.logo-icon:hover img {
    filter: brightness(1.4) contrast(1.3) saturate(1.2) drop-shadow(0 4px 12px rgba(0,0,0,0.5));
}

        /* Search */
        .search-container {
            position: relative;
            flex: 1;
            max-width: 400px;
        }

        .search-input {
            width: 100%;
            padding: 12px 48px 12px 16px;
            border: none;
            border-radius: var(--border-radius);
            font-size: 16px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 140, 58, 0.3);
            background: white;
        }

        .search-button {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--secondary);
            border: none;
            border-radius: 8px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: white;
            transition: all 0.3s ease;
        }

        .search-button:hover {
            transform: translateY(-50%) scale(1.1);
        }

        /* Filter Tabs */
.filter-tabs {
    background: rgba(255, 255, 255, 0.95);
    margin: 42px 0 24px 0;
    border-radius: var(--border-radius);
    padding: 8px;
    display: flex;
    gap: 8px;
    overflow-x: auto;
    box-shadow: 0 2px 16px var(--shadow);
    position: fixed;
    top: 120px;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 32px);
    max-width: 1200px;
    z-index: 100;
}

        .filter-tab {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            background: transparent;
            color: var(--text-dark);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: 500;
        }

        .filter-tab.active {
            background: var(--primary);
            color: var(--text-light);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(45, 80, 22, 0.3);
        }

        .filter-tab:hover:not(.active) {
            background: var(--bg-light);
            transform: translateY(-1px);
        }

        /* Plants Grid */
        .plants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
            margin-top: 60px;
            margin-bottom: 40px;
        }

        .plant-card {
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 4px 20px var(--shadow);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .plant-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 40px rgba(45, 80, 22, 0.15);
        }

        .plant-image {
            width: 100%;
            height: 220px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--primary-light) 100%);
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .plant-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .plant-card:hover .plant-image img {
            transform: scale(1.05);
        }

        .image-zoom-icon {
            position: absolute;
            top: 12px;
            left: 12px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .plant-image:hover .image-zoom-icon {
            opacity: 1;
        }

        .plant-category {
            position: absolute;
            top: 12px;
            right: 12px;
            background: var(--secondary);
            color: white;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .plant-content {
            padding: 24px;
        }

        .plant-header {
            margin-bottom: 16px;
        }

        .plant-name {
            font-size: 1.4rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .plant-latin {
            font-style: italic;
            color: #666;
            font-size: 0.95rem;
        }

        .plant-description {
            color: #555;
            margin-bottom: 16px;
            line-height: 1.6;
            font-size: 0.95rem;
        }

        .plant-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 16px;
        }

        .info-section {
            background: var(--bg-light);
            padding: 12px;
            border-radius: 8px;
            border-left: 3px solid var(--accent);
        }

        .info-title {
            font-weight: 600;
            color: var(--primary);
            font-size: 0.85rem;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .info-content {
            font-size: 0.85rem;
            color: #555;
        }

        .plant-benefits {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-bottom: 20px;
        }

        .benefit-tag {
            background: linear-gradient(135deg, var(--accent), var(--primary-light));
            color: white;
            padding: 6px 12px;
            border-radius: 16px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .plant-stats {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding: 12px;
            background: rgba(116, 178, 114, 0.1);
            border-radius: 8px;
        }

        .stat-item {
            text-align: center;
            flex: 1;
        }

        .stat-value {
            font-weight: bold;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .stat-label {
            font-size: 0.75rem;
            color: #666;
            margin-top: 2px;
        }

        .plant-actions {
            display: flex;
            gap: 8px;
        }

        .action-btn {
            flex: 1;
            padding: 12px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Image Modal */
        .image-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            backdrop-filter: blur(5px);
        }

        .image-modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90%;
            max-height: 90%;
            background: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            animation: modalAppear 0.3s ease;
        }

        .image-modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 16px;
            position: relative;
        }

        .image-modal-close {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            color: white;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .image-modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .image-modal-body {
            padding: 0;
        }

        .modal-plant-image {
            width: 100%;
            max-height: 70vh;
            object-fit: contain;
            display: block;
        }

        .image-description {
            padding: 20px;
            background: white;
        }

        .visual-description {
            color: #555;
            line-height: 1.6;
            margin-top: 8px;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border-radius: var(--border-radius);
            width: 90%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalAppear 0.3s ease;
        }

        @keyframes modalAppear {
            from {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .modal-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            padding: 24px;
            position: relative;
        }

        .modal-close {
            position: absolute;
            top: 12px;
            right: 12px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            color: white;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 24px;
        }

        .modal-tabs {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
            border-bottom: 2px solid var(--bg-light);
        }

        .modal-tab {
            padding: 12px 20px;
            border: none;
            background: transparent;
            color: var(--text-dark);
            cursor: pointer;
            border-radius: 8px 8px 0 0;
            transition: all 0.3s ease;
        }

        .modal-tab.active {
            background: var(--primary);
            color: white;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Recipes */
        .recipe-card {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            border-left: 4px solid var(--accent);
        }

        .recipe-title {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .recipe-meta {
            display: flex;
            gap: 20px;
            margin-bottom: 12px;
            font-size: 0.9rem;
            color: #666;
        }

        .recipe-ingredients {
            margin-bottom: 12px;
        }

        .recipe-steps {
            color: #555;
        }

        .recipe-ingredients ul {
            margin-left: 20px;
            margin-top: 8px;
        }

        .recipe-ingredients li {
            margin-bottom: 4px;
        }

        /* Loading */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--bg-light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 768px) {
    .header-content {
        flex-direction: column;
        gap: 12px;
    }
    
    .header-left {
        width: 100%;
        justify-content: space-between;
        flex-wrap: nowrap;
    }
    
    .logo {
        flex: 1;
        min-width: 0;
    }
    
    .logo span {
        font-size: 1.2rem;
    }
    
    .header-actions {
        flex-shrink: 0;
    }
    
    .header-right {
        width: 100%;
        order: -1;
    }
    
    .search-container {
        max-width: none;
        width: 100%;
    }
    
    .header-btn span:not(.btn-icon) {
        display: none;
    }
    
    .header-btn {
        min-width: 36px;
        justify-content: center;
        padding: 8px 10px;
    }
    
    .filter-tabs {
        margin: 48px 16px 24px 16px; 
        position: static; 
        transform: none;
        width: auto;
        max-width: none;
        left: auto;
    }
    
    .plants-grid {
        margin-top: 16px;
    }
    
    .action-bar {
        margin-top: 16px;
    }
}

        /* PWA Install Button */
        .install-btn {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(255, 140, 58, 0.4);
            transition: all 0.3s ease;
            z-index: 999;
        }

        .install-btn:hover {
            transform: scale(1.1);
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #666;
        }

        .no-results img {
            width: 120px;
            opacity: 0.5;
            margin-bottom: 20px;
        }

        .detailed-info {
            background: white;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px var(--shadow);
        }

        .detailed-info h3 {
            color: var(--primary);
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .properties-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        .property-item {
            background: var(--bg-light);
            padding: 12px;
            border-radius: 8px;
            border-left: 3px solid var(--accent);
        }

        .property-name {
            font-weight: 600;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .property-value {
            color: #555;
            font-size: 0.85rem;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">
                        <img src="images/LOGO.png" alt="Herbal Trinity Logo" onerror="this.parentElement.innerHTML='üåø'">
                    </div>
                    <span>DIGITAL HERBAL ENCYCLOPEDIA</span>
                </div>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search plants, symptoms, uses..." id="searchInput">
                    <button class="search-button" id="searchBtn">üîç</button>
                </div>
            </div>
        </header>

        <!-- Filter Tabs -->
        <div class="filter-tabs">
            <button class="filter-tab active" data-filter="all">All Plants</button>
            <button class="filter-tab" data-filter="digestive">Digestive</button>
            <button class="filter-tab" data-filter="respiratory">Respiratory</button>
            <button class="filter-tab" data-filter="nervous">Nervous System</button>
            <button class="filter-tab" data-filter="immune">Immune Support</button>
            <button class="filter-tab" data-filter="skin">Skin Care</button>
        </div>

        <!-- Plants Grid -->
        <div class="plants-grid" id="plantsGrid">
            <!-- Plants will be loaded here -->
        </div>

        <!-- No Results -->
        <div class="no-results" id="noResults" style="display: none;">
            <div>üîç</div>
            <h3>No plants found</h3>
            <p>Try adjusting your search or filter criteria</p>
        </div>
    </div>

    <!-- Image Zoom Modal -->
    <div class="image-modal" id="imageModal">
        <div class="image-modal-content">
            <div class="image-modal-header">
                <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
                <h3 id="imageModalTitle">Plant Image</h3>
            </div>
            <div class="image-modal-body">
                <img id="modalPlantImage" class="modal-plant-image" src="" alt="">
                <div class="image-description">
                    <h4>Visual Description</h4>
                    <p class="visual-description" id="visualDescription"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Plant Detail Modal -->
    <div class="modal" id="plantModal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="modal-close" onclick="closeModal()">&times;</button>
                <h2 id="modalTitle">Plant Name</h2>
                <p id="modalLatin">Latin Name</p>
            </div>
            <div class="modal-body">
                <div class="modal-tabs">
                    <button class="modal-tab active" onclick="showTab('info')">Overview</button>
                    <button class="modal-tab" onclick="showTab('recipes')">Recipes</button>
                    <button class="modal-tab" onclick="showTab('growing')">Growing</button>
                    <button class="modal-tab" onclick="showTab('location')">Habitat</button>
                </div>
                
                <div class="tab-content active" id="infoTab">
                    <div id="modalDescription"></div>
                    <div id="modalBenefits"></div>
                </div>
                
                <div class="tab-content" id="recipesTab">
                    <div id="modalRecipes"></div>
                </div>
                
                <div class="tab-content" id="growingTab">
                    <div id="modalGrowing"></div>
                </div>
                
                <div class="tab-content" id="locationTab">
                    <div id="modalLocation"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- PWA Install Button -->
    <button class="install-btn" id="installBtn" title="Install App">üì±</button>

    <script>
        // Enhanced Plant Database with detailed information
        const plantsDatabase = {
            calendula: {
                name: "Calendula",
                latin: "Calendula officinalis",
                category: "skin",
                image: "CALENDULA_1.jpg",
                visualDescription: "Calendula displays vibrant orange to yellow daisy-like flowers with multiple layers of narrow petals. The flowers have a distinctive bright center and grow on sturdy green stems with lance-shaped, slightly fuzzy leaves. The plant has a bushy, compact growth habit.",
                description: "Calendula, also known as pot marigold, is one of the most versatile and widely used medicinal plants for skin care and wound healing. Its bright orange and yellow flowers contain powerful compounds that promote tissue repair and reduce inflammation.",
                benefits: ["Wound Healing", "Anti-inflammatory", "Skin Care", "Antiseptic", "Antifungal"],
                difficulty: "Easy",
                harvestTime: "Summer",
                partUsed: "Flowers",
                preparation: ["Tea", "Oil", "Salve", "Tincture"],
                medicinalProperties: {
                    actions: "Vulnerary, anti-inflammatory, antimicrobial, astringent",
                    activeCompounds: "Flavonoids, carotenoids, saponins, triterpenes",
                    therapeuticUses: "Cuts, burns, eczema, diaper rash, minor wounds",
                    contraindications: "Pregnancy (large amounts), allergy to Asteraceae family"
                },
                recipes: [
                    {
                        title: "Healing Calendula Oil",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "2-4 weeks",
                        ingredients: ["1 cup fresh calendula flowers", "2 cups olive oil or sunflower oil"],
                        steps: "Fill a jar with fresh calendula flowers. Cover completely with oil. Place in sunny window for 2-4 weeks, shaking daily. Strain through cheesecloth. Use for cuts, burns, and dry skin."
                    },
                    {
                        title: "Calendula Healing Salve",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "1 hour",
                        ingredients: ["1/2 cup calendula oil", "2 tbsp beeswax", "10 drops lavender essential oil"],
                        steps: "Melt beeswax in double boiler. Add calendula oil and stir. Remove from heat, add essential oil. Pour into containers and cool. Apply to wounds, cuts, and irritated skin."
                    },
                    {
                        title: "Calendula Tea for Digestive Support",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried calendula petals", "1 cup boiling water", "Honey to taste"],
                        steps: "Steep calendula petals in boiling water for 10 minutes. Strain and add honey if desired. Drink 2-3 times daily for digestive inflammation."
                    }
                ],
                growing: "Calendula is an easy-to-grow annual that thrives in cool weather. Sow seeds directly in garden in early spring or fall. Prefers full sun to partial shade and well-drained soil. Regular deadheading encourages continuous blooming. Self-seeds readily in favorable conditions.",
                location: "Native to Mediterranean region, now cultivated worldwide. Grows in temperate climates, gardens, and wild areas. Commonly found in herb gardens, cottage gardens, and naturalized in disturbed soils."
            },
            chamomile: {
                name: "German Chamomile",
                latin: "Matricaria chamomilla",
                category: "digestive",
                image: "GERMAN_CHAMOMILE_2.jpg",
                visualDescription: "German chamomile features small, white daisy-like flowers with bright yellow centers that become cone-shaped as they mature. The flowers are delicate and sweet-smelling, growing on thin, branching stems with finely divided, feathery leaves that give the plant a lacy appearance.",
                description: "German chamomile is a gentle yet powerful medicinal herb renowned for its calming properties and digestive benefits. The small, daisy-like flowers contain compounds that soothe both mind and body, making it one of the most popular herbal teas worldwide.",
                benefits: ["Calming", "Digestive Aid", "Anti-inflammatory", "Sleep Support", "Antispasmodic"],
                difficulty: "Easy",
                harvestTime: "Summer",
                partUsed: "Flowers",
                preparation: ["Tea", "Tincture", "Essential Oil", "Compress"],
                medicinalProperties: {
                    actions: "Nervine, carminative, anti-inflammatory, antispasmodic, mild sedative",
                    activeCompounds: "Apigenin, bisabolol, chamazulene, flavonoids",
                    therapeuticUses: "Anxiety, insomnia, digestive upset, skin irritation, teething",
                    contraindications: "Allergy to Asteraceae family, blood-thinning medications"
                },
                recipes: [
                    {
                        title: "Classic Chamomile Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tbsp dried chamomile flowers", "1 cup boiling water", "Honey (optional)"],
                        steps: "Pour boiling water over chamomile flowers. Cover and steep for 5-10 minutes. Strain and add honey if desired. Drink 30 minutes before bedtime for sleep support."
                    },
                    {
                        title: "Chamomile Steam for Skin",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1/4 cup dried chamomile", "4 cups boiling water"],
                        steps: "Add chamomile to bowl of boiling water. Lean over bowl with towel over head to trap steam. Steam face for 10-15 minutes for gentle skin cleansing and pore opening."
                    }
                ],
                growing: "Annual herb that prefers cool weather and full sun. Sow seeds in spring directly in garden. Thrives in poor to average soil with good drainage. Harvest flowers when fully open in the morning after dew dries. Self-seeds readily.",
                location: "Native to Europe and western Asia, now naturalized in many temperate regions. Found in fields, roadsides, gardens, and waste areas. Prefers disturbed soils and sunny locations."
            },
            lavender: {
                name: "Lavender",
                latin: "Lavandula angustifolia",
                category: "nervous",
                image: "LAVENDER_3.jpg",
                visualDescription: "Lavender displays characteristic purple-blue flower spikes arranged in whorls along square stems. The flowers are small and tubular, highly fragrant, and attract bees and butterflies. The leaves are narrow, grayish-green, and aromatic when touched.",
                description: "Lavender is perhaps the most beloved aromatic herb, prized for its distinctive fragrance and powerful relaxing properties. Beyond its use in perfumery, lavender has been used medicinally for centuries to calm the mind, ease tension, and promote restful sleep.",
                benefits: ["Relaxation", "Sleep Aid", "Anxiety Relief", "Pain Relief", "Antiseptic"],
                difficulty: "Medium",
                harvestTime: "Summer",
                partUsed: "Flowers",
                preparation: ["Essential Oil", "Tea", "Sachets", "Hydrosol"],
                medicinalProperties: {
                    actions: "Nervine, antispasmodic, carminative, antimicrobial, analgesic",
                    activeCompounds: "Linalool, linalyl acetate, camphor, tannins",
                    therapeuticUses: "Insomnia, anxiety, headaches, minor burns, depression",
                    contraindications: "Pregnancy (essential oil), may enhance sedative effects"
                },
                recipes: [
                    {
                        title: "Lavender Sleep Pillow",
                        type: "Aromatherapy",
                        difficulty: "Easy",
                        time: "30 minutes",
                        ingredients: ["1 cup dried lavender buds", "Small cloth bag or pillowcase"],
                        steps: "Fill small cloth bag with dried lavender buds. Sew or tie closed. Place under regular pillow or inside pillowcase for natural sleep aid."
                    },
                    {
                        title: "Lavender Relaxation Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried lavender buds", "1 cup boiling water", "Lemon balm (optional)"],
                        steps: "Steep lavender in boiling water for 5-7 minutes. Strain well. Add lemon balm for enhanced relaxation. Drink 1 hour before bedtime."
                    },
                    {
                        title: "Lavender Pain Relief Oil",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "2 weeks",
                        ingredients: ["1/2 cup dried lavender", "1 cup carrier oil", "Vitamin E oil"],
                        steps: "Combine lavender and carrier oil in jar. Infuse for 2 weeks in warm, dark place. Strain and add vitamin E. Use for massage, headaches, and muscle tension."
                    }
                ],
                growing: "Perennial herb that requires well-drained, alkaline soil and full sun. Drought tolerant once established. Prune after flowering to maintain shape. In cold climates, may need winter protection or container growing.",
                location: "Native to Mediterranean region. Thrives in dry, rocky soils and sunny slopes. Widely cultivated in herb gardens, lavender farms, and xeriscapes. Naturalized in some temperate regions."
            },
            peppermint: {
                name: "Peppermint",
                latin: "Mentha √ó piperita",
                category: "digestive",
                image: "PEPPERMINT_4.jpg",
                visualDescription: "Peppermint has serrated, dark green leaves with purple-tinged stems. The leaves are oval-shaped with prominent veining and release a strong, cooling menthol aroma when crushed. Small purple flowers appear in terminal spikes during summer.",
                description: "Peppermint is a hybrid mint with powerful digestive and cooling properties. Its high menthol content makes it invaluable for soothing upset stomachs, clearing congestion, and providing natural pain relief. It's one of the most researched medicinal herbs with proven therapeutic benefits.",
                benefits: ["Digestive Support", "Nausea Relief", "Cooling", "Decongestant", "Pain Relief"],
                difficulty: "Easy",
                harvestTime: "Summer-Fall",
                partUsed: "Leaves",
                preparation: ["Tea", "Essential Oil", "Tincture", "Fresh"],
                medicinalProperties: {
                    actions: "Carminative, antispasmodic, cooling, antimicrobial, analgesic",
                    activeCompounds: "Menthol, menthone, rosmarinic acid, flavonoids",
                    therapeuticUses: "IBS, nausea, headaches, congestion, muscle pain",
                    contraindications: "GERD, gallstones, infants (essential oil)"
                },
                recipes: [
                    {
                        title: "Peppermint Digestive Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "5 minutes",
                        ingredients: ["1 tbsp fresh peppermint leaves", "1 cup boiling water"],
                        steps: "Pour boiling water over fresh peppermint leaves. Steep for 5 minutes. Strain and drink after meals for digestive support and to relieve nausea."
                    },
                    {
                        title: "Cooling Peppermint Foot Soak",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "20 minutes",
                        ingredients: ["1/2 cup dried peppermint", "4 cups hot water", "Epsom salts"],
                        steps: "Steep peppermint in hot water for 15 minutes. Add to foot basin with Epsom salts. Soak feet for 15-20 minutes for cooling relief and odor control."
                    }
                ],
                growing: "Vigorous perennial that spreads aggressively via runners. Best grown in containers to control spread. Prefers moist, rich soil and partial shade. Harvest leaves before flowering for best flavor. Cut back after flowering to encourage new growth.",
                location: "Hybrid of water mint and spearmint, cultivated worldwide. Escapes cultivation easily and naturalizes near water sources, in moist soils, and disturbed areas. Very hardy and adaptable."
            },
            plantain: {
                name: "Plantain",
                latin: "Plantago major",
                category: "skin",
                image: "PLANTAIN_5.jpg",
                description: "Often called 'nature's bandage,' plantain is a humble yet powerful healing herb found in lawns and roadsides worldwide. This unassuming plant has remarkable wound-healing properties and has been used for centuries to treat cuts, stings, and skin irritations.",
                benefits: ["Wound Healing", "Anti-inflammatory", "Antimicrobial", "Drawing", "Soothing"],
                difficulty: "Easy",
                harvestTime: "Spring-Fall",
                partUsed: "Leaves",
                preparation: ["Fresh Poultice", "Salve", "Tea", "Tincture"],
                medicinalProperties: {
                    actions: "Vulnerary, anti-inflammatory, antimicrobial, astringent, demulcent",
                    activeCompounds: "Allantoin, tannins, mucilage, glycosides, silica",
                    therapeuticUses: "Cuts, insect bites, splinters, poison ivy, minor wounds",
                    contraindications: "None known, very safe herb"
                },
                recipes: [
                    {
                        title: "Fresh Plantain Poultice",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "5 minutes",
                        ingredients: ["Fresh plantain leaves"],
                        steps: "Chew or crush fresh plantain leaves until juicy. Apply directly to wound, bite, or sting. Cover with bandage. Replace every few hours. Draws out infection and promotes healing."
                    },
                    {
                        title: "Plantain Healing Salve",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "1 hour",
                        ingredients: ["1 cup plantain-infused oil", "2 tbsp beeswax", "1 tsp vitamin E oil"],
                        steps: "Melt beeswax in double boiler. Add plantain oil and stir. Remove from heat, add vitamin E. Pour into containers. Use for cuts, scrapes, and skin irritations."
                    }
                ],
                growing: "Hardy perennial that grows in almost any soil condition. Tolerates foot traffic and poor soil. Often considered a weed in lawns. Self-seeds readily. Harvest leaves throughout growing season, choosing younger leaves for better flavor.",
                location: "Cosmopolitan weed found worldwide in temperate regions. Common in lawns, roadsides, paths, disturbed soils, and waste areas. One of the most widespread medicinal plants on earth."
            },
            rosemary: {
                name: "Rosemary",
                latin: "Rosmarinus officinalis",
                category: "nervous",
                image: "ROSEMARY_6.jpg",
                description: "Rosemary is an aromatic evergreen herb with a long history of enhancing memory and concentration. This Mediterranean native contains powerful antioxidants and has been shown in studies to improve cognitive function, making it both a culinary treasure and a valuable medicinal ally.",
                benefits: ["Memory Enhancement", "Antioxidant", "Circulation", "Focus", "Antimicrobial"],
                difficulty: "Medium",
                harvestTime: "Year-round",
                partUsed: "Leaves",
                preparation: ["Tea", "Essential Oil", "Tincture", "Culinary"],
                medicinalProperties: {
                    actions: "Circulatory stimulant, antioxidant, antimicrobial, cognitive enhancer",
                    activeCompounds: "Rosmarinic acid, carnosol, camphor, cineole",
                    therapeuticUses: "Poor memory, low circulation, mental fatigue, hair loss",
                    contraindications: "Pregnancy (large amounts), epilepsy (essential oil)"
                },
                recipes: [
                    {
                        title: "Rosemary Memory Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried rosemary", "1 cup boiling water", "Lemon (optional)"],
                        steps: "Steep rosemary in boiling water for 5-10 minutes. Strain and add lemon if desired. Drink in morning to enhance focus and memory throughout the day."
                    },
                    {
                        title: "Rosemary Hair Rinse",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "30 minutes",
                        ingredients: ["1/4 cup dried rosemary", "2 cups boiling water", "2 tbsp apple cider vinegar"],
                        steps: "Steep rosemary in boiling water for 20 minutes. Strain, add vinegar. Use as final rinse after shampooing to promote hair growth and add shine."
                    }
                ],
                growing: "Evergreen perennial shrub requiring well-drained soil and full sun. Drought tolerant once established. Prune regularly to maintain shape. In cold climates, grow in containers and bring indoors for winter.",
                location: "Native to Mediterranean coast. Thrives in rocky, alkaline soils and coastal areas. Widely cultivated in herb gardens, xeriscapes, and as ornamental shrubs in warm climates."
            },
            thyme: {
                name: "Thyme",
                latin: "Thymus vulgaris",
                category: "respiratory",
                image: "THYME_7.jpg",
                description: "Thyme is a potent antimicrobial herb with powerful respiratory benefits. Its strong antiseptic properties make it invaluable for treating coughs, bronchitis, and respiratory infections. This small but mighty herb has been used medicinally since ancient times.",
                benefits: ["Antimicrobial", "Expectorant", "Antitussive", "Immune Support", "Antiseptic"],
                difficulty: "Easy",
                harvestTime: "Summer",
                partUsed: "Leaves and flowers",
                preparation: ["Tea", "Syrup", "Essential Oil", "Steam"],
                medicinalProperties: {
                    actions: "Antimicrobial, expectorant, antispasmodic, carminative",
                    activeCompounds: "Thymol, carvacrol, rosmarinic acid, flavonoids",
                    therapeuticUses: "Coughs, bronchitis, respiratory infections, digestive issues",
                    contraindications: "Pregnancy (large amounts), thyroid disorders"
                },
                recipes: [
                    {
                        title: "Thyme Cough Syrup",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "45 minutes",
                        ingredients: ["2 tbsp fresh thyme", "1 cup water", "1/2 cup honey", "2 tbsp lemon juice"],
                        steps: "Simmer thyme in water for 20 minutes. Strain, add honey and lemon juice. Take 1 tsp every 2-3 hours for cough relief. Refrigerate between uses."
                    },
                    {
                        title: "Thyme Steam Inhalation",
                        type: "Inhalation",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["2 tbsp dried thyme", "4 cups boiling water"],
                        steps: "Add thyme to bowl of boiling water. Lean over bowl with towel over head. Inhale steam for 10-15 minutes to clear congestion and soothe respiratory tract."
                    }
                ],
                growing: "Low-growing perennial that prefers well-drained, alkaline soil and full sun. Very drought tolerant. Trim after flowering to prevent woody growth. Excellent ground cover and companion plant.",
                location: "Native to Mediterranean region. Naturalized in many temperate areas. Found in rocky soils, hillsides, and dry areas. Commonly cultivated in herb gardens and as ornamental ground cover."
            },
            sage: {
                name: "Sage",
                latin: "Salvia officinalis",
                category: "respiratory",
                image: "SAGE_8.jpg",
                description: "Sage is a revered medicinal herb known for its powerful antiseptic and astringent properties. Particularly effective for throat and mouth conditions, sage has been used traditionally to support women's health and cognitive function. Its name derives from the Latin 'salvere,' meaning 'to heal.'",
                benefits: ["Antiseptic", "Astringent", "Hormonal Support", "Cognitive Support", "Anti-inflammatory"],
                difficulty: "Easy",
                harvestTime: "Summer-Fall",
                partUsed: "Leaves",
                preparation: ["Tea", "Gargle", "Tincture", "Smudge"],
                medicinalProperties: {
                    actions: "Antiseptic, astringent, carminative, antispasmodic, estrogenic",
                    activeCompounds: "Thujone, rosmarinic acid, tannins, flavonoids",
                    therapeuticUses: "Sore throat, mouth ulcers, excessive sweating, memory issues",
                    contraindications: "Pregnancy, breastfeeding, epilepsy (large amounts)"
                },
                recipes: [
                    {
                        title: "Sage Throat Gargle",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1 tbsp dried sage", "1 cup boiling water", "1/2 tsp salt"],
                        steps: "Steep sage in boiling water for 15 minutes. Strain, add salt. Use as gargle 3-4 times daily for sore throat and mouth inflammation. Do not swallow."
                    },
                    {
                        title: "Sage Tea for Hot Flashes",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried sage", "1 cup boiling water"],
                        steps: "Steep sage in boiling water for 10 minutes. Strain and drink 2-3 cups daily to help reduce hot flashes and excessive sweating."
                    }
                ],
                growing: "Perennial shrub requiring well-drained soil and full sun. Very drought tolerant once established. Prune in spring to prevent woody growth. Harvest leaves before flowering for best medicinal potency.",
                location: "Native to Mediterranean region. Thrives in dry, rocky soils and sunny slopes. Widely cultivated in herb gardens and xeriscapes. Some species naturalized in suitable climates."
            },
            oregano: {
                name: "Oregano",
                latin: "Origanum vulgare",
                category: "respiratory",
                image: "OREGANO_9.jpg",
                description: "Oregano is a powerful antimicrobial herb with potent antioxidant properties. Beyond its culinary uses, oregano has been traditionally used to fight infections, support respiratory health, and boost immune function. Its essential oil is among the most potent natural antimicrobials.",
                benefits: ["Antimicrobial", "Antioxidant", "Immune Support", "Respiratory Health", "Digestive Aid"],
                difficulty: "Easy",
                harvestTime: "Summer-Fall",
                partUsed: "Leaves and flowers",
                preparation: ["Tea", "Essential Oil", "Tincture", "Steam"],
                medicinalProperties: {
                    actions: "Antimicrobial, antioxidant, carminative, expectorant, antispasmodic",
                    activeCompounds: "Carvacrol, thymol, rosmarinic acid, quercetin",
                    therapeuticUses: "Respiratory infections, digestive issues, fungal infections, immune support",
                    contraindications: "Pregnancy (large amounts), blood-thinning medications"
                },
                recipes: [
                    {
                        title: "Oregano Immune Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried oregano", "1 cup boiling water", "Honey to taste"],
                        steps: "Steep oregano in boiling water for 8-10 minutes. Strain and add honey. Drink 2-3 times daily during illness for immune support."
                    },
                    {
                        title: "Oregano Steam for Sinuses",
                        type: "Inhalation",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["2 tbsp dried oregano", "4 cups boiling water"],
                        steps: "Add oregano to bowl of steaming water. Cover head with towel and inhale steam for 10-15 minutes to clear sinus congestion."
                    }
                ],
                growing: "Hardy perennial that thrives in well-drained soil and full sun. Very drought tolerant. Pinch flowers to encourage leaf growth. Spreads via runners, making good ground cover.",
                location: "Native to Mediterranean and temperate regions of Europe and Asia. Widely naturalized in mountainous areas, rocky soils, and disturbed ground. Common in herb gardens worldwide."
            },
            holy_basil: {
                name: "Holy Basil (Tulsi)",
                latin: "Ocimum tenuiflorum",
                category: "nervous",
                image: "HOLY_BASIL_10.jpg",
                visualDescription: "Holy basil has serrated, oval-shaped leaves that are green to purple in color with a distinctive clove-like aroma. The plant produces small white to purple flowers in terminal spikes. The stems are often tinged with purple, and the entire plant has a fuzzy texture.",
                description: "Holy Basil, known as Tulsi in Ayurveda, is revered as a sacred adaptogenic herb that helps the body manage stress and promote longevity. This powerful herb supports the nervous system, enhances immunity, and helps balance blood sugar levels.",
                benefits: ["Stress Relief", "Adaptogen", "Immune Support", "Blood Sugar Balance", "Respiratory Health"],
                difficulty: "Medium",
                harvestTime: "Summer-Fall",
                partUsed: "Leaves and flowers",
                preparation: ["Tea", "Tincture", "Fresh", "Powder"],
                medicinalProperties: {
                    actions: "Adaptogen, nervine, immunomodulator, hypoglycemic, antimicrobial",
                    activeCompounds: "Eugenol, rosmarinic acid, apigenin, luteolin",
                    therapeuticUses: "Stress, anxiety, diabetes, respiratory infections, immune deficiency",
                    contraindications: "Blood-thinning medications, diabetes medications (monitor levels)"
                },
                recipes: [
                    {
                        title: "Daily Tulsi Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tbsp fresh tulsi leaves", "1 cup boiling water", "Ginger slice (optional)"],
                        steps: "Steep tulsi leaves in boiling water for 8-10 minutes. Add ginger if desired. Drink daily as an adaptogenic tonic for stress management."
                    },
                    {
                        title: "Tulsi Honey Syrup",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "30 minutes",
                        ingredients: ["1/2 cup fresh tulsi leaves", "1 cup water", "1/2 cup honey"],
                        steps: "Simmer tulsi in water for 20 minutes. Strain, add honey while warm. Take 1 tsp twice daily for immune support and stress relief."
                    }
                ],
                growing: "Annual herb requiring warm weather and well-drained soil. Start from seeds indoors in cool climates. Pinch flowers to encourage leaf growth. Harvest regularly for continuous production.",
                location: "Native to tropical regions of India and Southeast Asia. Thrives in warm, humid climates. Widely cultivated in herb gardens and as a sacred plant in Hindu traditions."
            },
            dandelion: {
                name: "Dandelion",
                latin: "Taraxacum officinale",
                category: "digestive",
                image: "DANDELION_11.jpg",
                visualDescription: "Dandelion features bright yellow composite flowers with numerous thin petals that close at night and in cloudy weather. The leaves are deeply lobed (dandelion = 'dent de lion' or lion's tooth) and form a basal rosette. All parts contain a white, milky latex when broken.",
                description: "Dandelion is a powerful liver detoxifier and digestive bitter that supports overall health. Every part of this 'weed' is medicinal - roots support liver function, leaves act as a gentle diuretic, and flowers provide antioxidants. It's nature's multivitamin.",
                benefits: ["Liver Support", "Digestive Bitter", "Diuretic", "Detoxification", "Nutritive"],
                difficulty: "Easy",
                harvestTime: "Spring-Fall",
                partUsed: "Roots, leaves, flowers",
                preparation: ["Tea", "Tincture", "Fresh", "Roasted Root"],
                medicinalProperties: {
                    actions: "Hepatic, cholagogue, diuretic, bitter tonic, nutritive",
                    activeCompounds: "Inulin, taraxasterol, potassium, vitamins A, C, K",
                    therapeuticUses: "Liver congestion, poor digestion, water retention, nutritional deficiency",
                    contraindications: "Gallstones, bile duct obstruction, potassium-sparing diuretics"
                },
                recipes: [
                    {
                        title: "Dandelion Root Coffee",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "45 minutes",
                        ingredients: ["2 tbsp roasted dandelion root", "2 cups water"],
                        steps: "Roast cleaned dandelion roots in oven until dark brown. Grind coarsely. Simmer 2 tbsp in water for 15 minutes. Strain and drink as coffee substitute for liver support."
                    },
                    {
                        title: "Spring Dandelion Salad",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["2 cups young dandelion leaves", "Olive oil", "Lemon juice", "Salt"],
                        steps: "Harvest young dandelion leaves in early spring. Dress with olive oil, lemon juice, and salt. Eat as bitter tonic to stimulate digestion."
                    }
                ],
                growing: "Hardy perennial that grows in almost any soil. Deep taproot makes it drought tolerant. Often considered a weed but valuable for wildlife. Harvest roots in fall, leaves in spring.",
                location: "Cosmopolitan weed found throughout temperate regions worldwide. Common in lawns, fields, roadsides, and disturbed soils. One of the most widespread medicinal plants."
            },
            nettle: {
                name: "Nettle",
                latin: "Urtica dioica",
                category: "immune",
                image: "NETTLE_12.jpg",
                description: "Stinging nettle is a nutritional powerhouse and gentle immune system modulator. Rich in vitamins, minerals, and protein, nettle supports allergies, joint health, and overall vitality. Once cooked or dried, the sting disappears, revealing a valuable medicinal food.",
                benefits: ["Allergy Relief", "Nutritive", "Joint Health", "Immune Modulation", "Hair Health"],
                difficulty: "Easy",
                harvestTime: "Spring-Early Summer",
                partUsed: "Leaves",
                preparation: ["Tea", "Soup", "Tincture", "Dried"],
                medicinalProperties: {
                    actions: "Nutritive, anti-allergenic, anti-inflammatory, diuretic, astringent",
                    activeCompounds: "Histamine, formic acid, vitamins A, C, K, iron, calcium",
                    therapeuticUses: "Seasonal allergies, arthritis, anemia, hair loss, eczema",
                    contraindications: "Pregnancy (stimulates uterus), kidney disease (consult practitioner)"
                },
                recipes: [
                    {
                        title: "Nettle Allergy Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["2 tbsp dried nettle leaves", "1 cup boiling water"],
                        steps: "Steep nettle leaves in boiling water for 10-15 minutes. Strain and drink 2-3 cups daily during allergy season for natural antihistamine effect."
                    },
                    {
                        title: "Nettle Hair Rinse",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "30 minutes",
                        ingredients: ["1/4 cup dried nettle", "2 cups boiling water", "2 tbsp apple cider vinegar"],
                        steps: "Steep nettle in boiling water for 20 minutes. Strain, add vinegar. Use as final rinse after shampooing to strengthen hair and reduce dandruff."
                    }
                ],
                growing: "Hardy perennial that prefers rich, moist soil and partial shade. Spreads via rhizomes. Harvest young leaves in spring wearing gloves. Cut back after flowering for second harvest.",
                location: "Native to Europe, Asia, and North America. Found in moist, nitrogen-rich soils, forest edges, stream banks, and disturbed areas. Common in temperate regions worldwide."
            },
            red_clover: {
                name: "Red Clover",
                latin: "Trifolium pratense",
                category: "immune",
                image: "RED_CLOVER_13.jpg",
                description: "Red clover is a gentle lymphatic cleanser and hormonal balancer known for its blood-purifying properties. Rich in isoflavones, it supports women's health, cardiovascular function, and helps clear skin conditions through gentle detoxification.",
                benefits: ["Lymphatic Support", "Hormonal Balance", "Blood Purifier", "Skin Health", "Respiratory Support"],
                difficulty: "Easy",
                harvestTime: "Summer",
                partUsed: "Flowers",
                preparation: ["Tea", "Tincture", "Syrup", "Compress"],
                medicinalProperties: {
                    actions: "Alterative, lymphatic, antispasmodic, expectorant, estrogenic",
                    activeCompounds: "Isoflavones, genistein, daidzein, coumarins, vitamins",
                    therapeuticUses: "Menopause, eczema, psoriasis, coughs, lymphatic congestion",
                    contraindications: "Pregnancy, estrogen-sensitive cancers, blood-thinning medications"
                },
                recipes: [
                    {
                        title: "Red Clover Blossom Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["2 tbsp dried red clover blossoms", "1 cup boiling water"],
                        steps: "Steep red clover blossoms in boiling water for 10-15 minutes. Strain and drink 2-3 cups daily for lymphatic and hormonal support."
                    },
                    {
                        title: "Red Clover Skin Wash",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "20 minutes",
                        ingredients: ["1/4 cup dried red clover", "2 cups boiling water"],
                        steps: "Steep red clover in boiling water for 15 minutes. Strain and cool. Use as gentle wash for eczema, acne, and other skin conditions."
                    }
                ],
                growing: "Biennial or short-lived perennial legume. Fixes nitrogen in soil, improving fertility. Prefers slightly alkaline soil and full sun. Harvest flowers when fully open but before browning.",
                location: "Native to Europe, naturalized throughout temperate regions. Common in meadows, pastures, roadsides, and fields. Widely cultivated as forage crop and soil improver."
            },
            yarrow: {
                name: "Yarrow",
                latin: "Achillea millefolium",
                category: "skin",
                image: "YARROW_14.jpg",
                description: "Yarrow is a powerful wound healer and circulatory tonic named after the Greek hero Achilles. This versatile herb stops bleeding, reduces inflammation, and supports the cardiovascular system. It's equally valuable for digestive complaints and women's health.",
                benefits: ["Wound Healing", "Circulatory Tonic", "Digestive Support", "Fever Reducer", "Menstrual Support"],
                difficulty: "Easy",
                harvestTime: "Summer",
                partUsed: "Leaves and flowers",
                preparation: ["Tea", "Tincture", "Poultice", "Essential Oil"],
                medicinalProperties: {
                    actions: "Vulnerary, astringent, circulatory stimulant, diaphoretic, antispasmodic",
                    activeCompounds: "Achilleine, chamazulene, flavonoids, tannins, volatile oils",
                    therapeuticUses: "Wounds, heavy periods, poor circulation, fever, digestive upset",
                    contraindications: "Pregnancy, allergy to Asteraceae family, blood-thinning medications"
                },
                recipes: [
                    {
                        title: "Yarrow Wound Poultice",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "5 minutes",
                        ingredients: ["Fresh yarrow leaves", "Small amount of water"],
                        steps: "Chew or crush fresh yarrow leaves with small amount of water to make paste. Apply directly to cuts or wounds to stop bleeding and promote healing."
                    },
                    {
                        title: "Yarrow Fever Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried yarrow", "1 cup boiling water", "Peppermint (optional)"],
                        steps: "Steep yarrow in boiling water for 8-10 minutes. Add peppermint if desired. Drink hot to break fevers and support recovery from illness."
                    }
                ],
                growing: "Hardy perennial that tolerates poor soil and drought. Spreads via rhizomes. Prefers full sun but adapts to various conditions. Deadhead to prevent excessive self-seeding.",
                location: "Native to temperate regions of Northern Hemisphere. Found in grasslands, meadows, roadsides, and disturbed soils. Widely naturalized and cultivated worldwide."
            },
            burdock: {
                name: "Burdock",
                latin: "Arctium lappa",
                category: "digestive",
                image: "BURDOCK_15.jpg",
                description: "Burdock is a powerful blood purifier and liver support herb that helps clear skin conditions from within. The root is a gentle detoxifier that supports elimination while providing prebiotic fibers for digestive health. In Japanese cuisine, it's known as gobo root.",
                benefits: ["Blood Purifier", "Liver Support", "Skin Health", "Digestive Aid", "Lymphatic Cleanser"],
                difficulty: "Medium",
                harvestTime: "Fall (first year)",
                partUsed: "Root, leaves, seeds",
                preparation: ["Decoction", "Tincture", "Food", "Oil"],
                medicinalProperties: {
                    actions: "Alterative, hepatic, diuretic, antimicrobial, prebiotic",
                    activeCompounds: "Inulin, arctiin, lignans, mucilage, vitamins",
                    therapeuticUses: "Acne, eczema, arthritis, digestive sluggishness, liver congestion",
                    contraindications: "Pregnancy, diabetes medications (monitor blood sugar)"
                },
                recipes: [
                    {
                        title: "Burdock Root Decoction",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "45 minutes",
                        ingredients: ["2 tbsp dried burdock root", "3 cups water"],
                        steps: "Simmer burdock root in water for 30 minutes. Strain and drink 1 cup three times daily for blood purification and liver support."
                    },
                    {
                        title: "Burdock Seed Oil for Skin",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "2 weeks",
                        ingredients: ["1/4 cup burdock seeds", "1 cup olive oil"],
                        steps: "Crush burdock seeds lightly. Infuse in oil for 2 weeks in warm place. Strain and use for dry skin, eczema, and scalp conditions."
                    }
                ],
                growing: "Biennial plant with deep taproot. First year produces large leaves, second year flowers and seeds. Prefers rich, deep soil. Harvest roots in fall of first year for best medicinal potency.",
                location: "Native to Europe and Asia, naturalized throughout temperate regions. Found in disturbed soils, roadsides, fields, and waste areas. Common around human habitation."
            },
            elderberry: {
                name: "Elderberry",
                latin: "Sambucus canadensis",
                category: "immune",
                image: "ELDERBERRY_16.jpg",
                description: "Elderberry is renowned for its immune-boosting properties and antiviral activity. The dark purple berries are rich in anthocyanins and have been scientifically proven to reduce the duration and severity of cold and flu symptoms. The flowers also have medicinal value.",
                benefits: ["Immune Support", "Antiviral", "Antioxidant", "Cold & Flu Relief", "Anti-inflammatory"],
                difficulty: "Easy",
                harvestTime: "Late Summer (berries), Early Summer (flowers)",
                partUsed: "Berries, flowers",
                preparation: ["Syrup", "Tea", "Tincture", "Jam"],
                medicinalProperties: {
                    actions: "Immunomodulator, antiviral, diaphoretic, anti-inflammatory, antioxidant",
                    activeCompounds: "Anthocyanins, quercetin, rutin, vitamins A and C",
                    therapeuticUses: "Cold, flu, immune deficiency, inflammation, respiratory infections",
                    contraindications: "Raw berries can cause digestive upset, autoimmune conditions (monitor)"
                },
                recipes: [
                    {
                        title: "Classic Elderberry Syrup",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "1 hour",
                        ingredients: ["1 cup dried elderberries", "3 cups water", "1 cup honey", "1 cinnamon stick"],
                        steps: "Simmer elderberries and cinnamon in water for 45 minutes. Strain, add honey while warm. Take 1 tbsp daily for prevention, every 3 hours when sick."
                    },
                    {
                        title: "Elderflower Cold Relief Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["2 tbsp dried elderflowers", "1 cup boiling water", "Lemon and honey"],
                        steps: "Steep elderflowers in boiling water for 10 minutes. Strain, add lemon and honey. Drink hot for fever reduction and cold symptoms."
                    }
                ],
                growing: "Large shrub or small tree preferring moist, rich soil and partial shade. Very hardy and fast-growing. Harvest flowers in early summer, berries in late summer when fully ripe and dark purple.",
                location: "Native to North America and Europe. Found in moist areas, stream banks, forest edges, and disturbed soils. Widely cultivated for ornamental and medicinal purposes."
            },
            witch_hazel: {
                name: "Witch Hazel",
                latin: "Hamamelis virginiana",
                category: "skin",
                image: "WITCH_HAZEL_17.jpg",
                description: "Witch hazel is a powerful astringent herb prized for its ability to tighten and tone tissues. Excellent for hemorrhoids, varicose veins, and various skin conditions, it's one of the most widely used herbs in commercial skincare products due to its gentle yet effective properties.",
                benefits: ["Astringent", "Anti-inflammatory", "Vein Tonic", "Skin Toner", "Wound Healing"],
                difficulty: "Medium",
                harvestTime: "Fall (bark), Summer (leaves)",
                partUsed: "Bark, leaves",
                preparation: ["Decoction", "Distilled Extract", "Compress", "Wash"],
                medicinalProperties: {
                    actions: "Astringent, anti-inflammatory, hemostatic, antiseptic, vasoconstrictive",
                    activeCompounds: "Tannins, gallic acid, proanthocyanidins, volatile oils",
                    therapeuticUses: "Hemorrhoids, varicose veins, bruises, cuts, oily skin, eye inflammation",
                    contraindications: "Internal use not recommended for extended periods due to tannin content"
                },
                recipes: [
                    {
                        title: "Witch Hazel Skin Toner",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "45 minutes",
                        ingredients: ["2 tbsp dried witch hazel bark", "1 cup water", "2 tbsp witch hazel distillate"],
                        steps: "Simmer bark in water for 30 minutes. Strain, cool, and mix with distillate. Use as toner for oily or acne-prone skin twice daily."
                    },
                    {
                        title: "Hemorrhoid Relief Compress",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "20 minutes",
                        ingredients: ["3 tbsp dried witch hazel leaves", "2 cups boiling water"],
                        steps: "Steep witch hazel leaves in boiling water for 15 minutes. Strain and cool. Soak cloth in liquid and apply as compress for hemorrhoid relief."
                    }
                ],
                growing: "Small deciduous tree or large shrub preferring moist, acidic soil and partial shade. Slow-growing but very hardy. Unique fall-blooming flowers appear after leaves drop.",
                location: "Native to eastern North America. Found in moist woodlands, stream banks, and forest understory. Widely cultivated as ornamental and for commercial extract production."
            },
            birch: {
                name: "Birch",
                latin: "Betula pendula",
                category: "skin",
                image: "BIRCH_18.jpg",
                description: "Birch leaves and bark contain methyl salicylate, making them natural pain relievers and anti-inflammatory agents. The leaves are particularly valued for kidney and urinary support, while the bark has been used traditionally for skin conditions and wound healing.",
                benefits: ["Pain Relief", "Anti-inflammatory", "Diuretic", "Skin Health", "Kidney Support"],
                difficulty: "Medium",
                harvestTime: "Spring (leaves), Fall (bark)",
                partUsed: "Leaves, bark",
                preparation: ["Tea", "Oil", "Decoction", "Compress"],
                medicinalProperties: {
                    actions: "Anti-inflammatory, analgesic, diuretic, antiseptic, astringent",
                    activeCompounds: "Methyl salicylate, betulin, tannins, flavonoids, vitamin C",
                    therapeuticUses: "Arthritis, muscle pain, kidney stones, edema, skin infections",
                    contraindications: "Salicylate allergy, pregnancy (large amounts), kidney disease"
                },
                recipes: [
                    {
                        title: "Birch Leaf Pain Relief Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["2 tbsp dried birch leaves", "1 cup boiling water"],
                        steps: "Steep birch leaves in boiling water for 10-15 minutes. Strain and drink 2-3 times daily for joint pain and inflammation relief."
                    },
                    {
                        title: "Birch Bark Skin Oil",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "2 weeks",
                        ingredients: ["1/4 cup birch bark pieces", "1 cup olive oil"],
                        steps: "Infuse birch bark in oil for 2 weeks in warm place. Strain and use for skin conditions, wounds, and muscle pain relief."
                    }
                ],
                growing: "Deciduous tree preferring moist, well-drained soil and full to partial sun. Fast-growing and adaptable to various soil types. Harvest young leaves in spring, bark sustainably in fall.",
                location: "Native to Europe and Asia, naturalized in North America. Found in moist woodlands, stream banks, and mountainous regions. Common in temperate and boreal forests."
            },
            white_willow: {
                name: "White Willow",
                latin: "Salix alba",
                category: "nervous",
                image: "WHITE_WILLOW_19.jpg",
                description: "White willow bark is nature's aspirin, containing salicin which converts to salicylic acid in the body. This gentle yet effective pain reliever and anti-inflammatory has been used for millennia to treat headaches, fever, and joint pain without the stomach irritation of synthetic aspirin.",
                benefits: ["Pain Relief", "Anti-inflammatory", "Fever Reducer", "Headache Relief", "Joint Support"],
                difficulty: "Medium",
                harvestTime: "Spring (young bark)",
                partUsed: "Bark",
                preparation: ["Decoction", "Tincture", "Powder", "Tea"],
                medicinalProperties: {
                    actions: "Analgesic, anti-inflammatory, antipyretic, astringent, antiseptic",
                    activeCompounds: "Salicin, tannins, flavonoids, phenolic compounds",
                    therapeuticUses: "Headaches, arthritis, fever, back pain, muscle aches",
                    contraindications: "Salicylate allergy, blood-thinning medications, children with viral infections"
                },
                recipes: [
                    {
                        title: "White Willow Pain Relief Decoction",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "45 minutes",
                        ingredients: ["2 tbsp dried willow bark", "3 cups water"],
                        steps: "Simmer willow bark in water for 30 minutes. Strain and drink 1/2 cup three times daily for pain and inflammation relief."
                    },
                    {
                        title: "Willow Bark Headache Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "20 minutes",
                        ingredients: ["1 tsp powdered willow bark", "1 cup hot water", "Ginger slice"],
                        steps: "Steep willow bark powder and ginger in hot water for 15 minutes. Strain and drink for headache relief. Effects may take 1-2 hours."
                    }
                ],
                growing: "Large deciduous tree preferring moist soil near water sources. Fast-growing and tolerates poor drainage. Harvest bark from young branches in spring when sap is rising.",
                location: "Native to Europe, Asia, and North America. Found along riverbanks, wetlands, and moist soils. Widely planted for ornamental purposes and erosion control."
            },
            hawthorn: {
                name: "Hawthorn",
                latin: "Crataegus monogyna",
                category: "nervous",
                image: "HAWTHORN_20.jpg",
                description: "Hawthorn is the supreme heart tonic, supporting cardiovascular health and emotional well-being. This gentle yet powerful herb strengthens the heart muscle, regulates blood pressure, and has been used traditionally for anxiety and grief. It's considered the 'food for the heart' in herbal medicine.",
                benefits: ["Heart Support", "Blood Pressure Regulation", "Anxiety Relief", "Circulation", "Emotional Support"],
                difficulty: "Easy",
                harvestTime: "Spring (flowers), Fall (berries)",
                partUsed: "Flowers, leaves, berries",
                preparation: ["Tea", "Tincture", "Syrup", "Capsules"],
                medicinalProperties: {
                    actions: "Cardiotonic, hypotensive, anxiolytic, antioxidant, vasodilatory",
                    activeCompounds: "Proanthocyanidins, flavonoids, triterpenes, phenolic acids",
                    therapeuticUses: "Heart disease, high blood pressure, anxiety, poor circulation, arrhythmia",
                    contraindications: "Heart medications (requires supervision), low blood pressure"
                },
                recipes: [
                    {
                        title: "Hawthorn Heart Tonic Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1 tbsp dried hawthorn flowers and leaves", "1 cup boiling water"],
                        steps: "Steep hawthorn in boiling water for 10-15 minutes. Strain and drink 2-3 cups daily as heart tonic and for anxiety relief."
                    },
                    {
                        title: "Hawthorn Berry Syrup",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "1 hour",
                        ingredients: ["1 cup fresh hawthorn berries", "2 cups water", "1/2 cup honey"],
                        steps: "Simmer berries in water for 45 minutes. Strain, pressing out liquid. Add honey to warm liquid. Take 1 tbsp twice daily for heart support."
                    }
                ],
                growing: "Small tree or large shrub tolerating various soil types. Prefers full sun to partial shade. Very hardy and drought tolerant once established. Harvest flowers in spring, berries in fall.",
                location: "Native to Europe, Asia, and North America. Found in hedgerows, woodland edges, and disturbed areas. Widely cultivated as ornamental and for medicinal use."
            },
            echinacea: {
                name: "Echinacea",
                latin: "Echinacea purpurea",
                category: "immune",
                image: "ECHINACEA_21.jpg",
                description: "Echinacea is one of the most researched immune-supporting herbs, known for its ability to enhance the body's natural defense mechanisms. This beautiful purple coneflower stimulates white blood cell activity and has been shown to reduce the duration and severity of upper respiratory infections.",
                benefits: ["Immune Support", "Antiviral", "Anti-inflammatory", "Wound Healing", "Cold Prevention"],
                difficulty: "Easy",
                harvestTime: "Fall (roots), Summer (flowers/leaves)",
                partUsed: "Roots, leaves, flowers",
                preparation: ["Tincture", "Tea", "Capsules", "Decoction"],
                medicinalProperties: {
                    actions: "Immunostimulant, anti-inflammatory, antimicrobial, vulnerary, alterative",
                    activeCompounds: "Alkamides, polysaccharides, glycoproteins, caffeic acid derivatives",
                    therapeuticUses: "Cold, flu, immune deficiency, infections, slow-healing wounds",
                    contraindications: "Autoimmune conditions, progressive systemic diseases, allergies to Asteraceae"
                },
                recipes: [
                    {
                        title: "Echinacea Immune Tincture",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "4 weeks",
                        ingredients: ["1 part fresh echinacea root", "2 parts vodka or grain alcohol"],
                        steps: "Chop fresh root finely. Cover with alcohol in jar. Shake daily for 4 weeks. Strain. Take 30 drops 3 times daily at first sign of illness."
                    },
                    {
                        title: "Echinacea Cold Prevention Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1 tsp dried echinacea root", "1 cup water", "Ginger and honey"],
                        steps: "Simmer echinacea root for 10 minutes. Strain, add ginger and honey. Drink 2-3 cups daily during cold season for prevention."
                    }
                ],
                growing: "Hardy perennial preferring well-drained soil and full sun. Drought tolerant once established. Harvest roots in fall of 3rd or 4th year for maximum potency. Self-seeds readily.",
                location: "Native to eastern and central North America. Found in prairies, open woodlands, and fields. Widely cultivated in gardens and commercially for medicinal use."
            },
            aloe_vera: {
                name: "Aloe Vera",
                latin: "Aloe barbadensis",
                category: "skin",
                image: "ALOE_VERA_22.jpg",
                description: "Aloe vera is the premier healing plant for burns, cuts, and skin irritations. The clear gel inside the thick leaves contains powerful compounds that cool inflammation, accelerate wound healing, and moisturize skin. It's also valuable for digestive health when used internally.",
                benefits: ["Burn Relief", "Wound Healing", "Skin Moisturizer", "Anti-inflammatory", "Digestive Support"],
                difficulty: "Easy",
                harvestTime: "Year-round",
                partUsed: "Leaf gel",
                preparation: ["Fresh Gel", "Juice", "Cream", "Spray"],
                medicinalProperties: {
                    actions: "Vulnerary, anti-inflammatory, cooling, moisturizing, laxative",
                    activeCompounds: "Polysaccharides, glycoproteins, anthraquinones, vitamins, minerals",
                    therapeuticUses: "Burns, cuts, sunburn, eczema, psoriasis, constipation",
                    contraindications: "Pregnancy (internal use), intestinal obstruction, kidney disease"
                },
                recipes: [
                    {
                        title: "Fresh Aloe Burn Gel",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "5 minutes",
                        ingredients: ["Fresh aloe vera leaf"],
                        steps: "Cut aloe leaf lengthwise. Scoop out clear gel with spoon. Apply directly to burns, cuts, or sunburn. Refrigerate remaining gel for up to 1 week."
                    },
                    {
                        title: "Aloe Healing Spray",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1/4 cup aloe gel", "2 tbsp witch hazel", "10 drops lavender oil"],
                        steps: "Blend aloe gel until smooth. Mix with witch hazel and lavender oil. Pour into spray bottle. Use for sunburn, minor burns, and skin irritation."
                    }
                ],
                growing: "Succulent requiring well-drained soil and bright light. Drought tolerant and easy to grow indoors. Avoid overwatering. Harvest outer leaves as needed, cutting close to base.",
                location: "Native to Arabian Peninsula, now cultivated worldwide in warm climates. Common houseplant in temperate regions. Thrives in arid and semi-arid environments."
            },
            ginger: {
                name: "Ginger",
                latin: "Zingiber officinale",
                category: "digestive",
                image: "GINGER_23.jpg",
                description: "Ginger is a warming digestive stimulant and powerful anti-nausea remedy. This aromatic rhizome enhances circulation, reduces inflammation, and supports immune function. It's equally valuable for motion sickness, morning sickness, and digestive complaints.",
                benefits: ["Anti-nausea", "Digestive Stimulant", "Anti-inflammatory", "Circulation", "Immune Support"],
                difficulty: "Medium",
                harvestTime: "Fall (rhizome)",
                partUsed: "Rhizome (root)",
                preparation: ["Fresh", "Tea", "Tincture", "Powder"],
                medicinalProperties: {
                    actions: "Carminative, antiemetic, circulatory stimulant, anti-inflammatory, antimicrobial",
                    activeCompounds: "Gingerols, shogaols, zingerone, volatile oils",
                    therapeuticUses: "Nausea, motion sickness, morning sickness, poor digestion, arthritis",
                    contraindications: "Gallstones, blood-thinning medications, severe heartburn"
                },
                recipes: [
                    {
                        title: "Fresh Ginger Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1 inch fresh ginger root", "1 cup water", "Lemon and honey"],
                        steps: "Slice ginger thinly. Simmer in water for 10 minutes. Strain, add lemon and honey. Drink for nausea, digestion, and immune support."
                    },
                    {
                        title: "Ginger Syrup for Nausea",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "30 minutes",
                        ingredients: ["1/2 cup fresh ginger", "1 cup water", "1 cup sugar"],
                        steps: "Simmer sliced ginger in water for 20 minutes. Strain, add sugar to hot liquid. Stir until dissolved. Take 1 tsp as needed for nausea."
                    }
                ],
                growing: "Tropical perennial requiring warm, humid conditions and rich, well-drained soil. Grow in containers in temperate climates. Plant rhizome pieces with growing buds.",
                location: "Native to Southeast Asia, now cultivated throughout tropical and subtropical regions. Requires warm, humid climate with consistent moisture and protection from direct sun."
            },
            turmeric: {
                name: "Turmeric",
                latin: "Curcuma longa",
                category: "nervous",
                image: "TURMERIC_24.jpg",
                description: "Turmeric is a golden anti-inflammatory powerhouse containing curcumin, one of nature's most potent compounds for reducing inflammation and supporting joint health. This sacred spice also supports brain function, liver health, and has powerful antioxidant properties.",
                benefits: ["Anti-inflammatory", "Joint Health", "Liver Support", "Brain Health", "Antioxidant"],
                difficulty: "Medium",
                harvestTime: "Fall (rhizome)",
                partUsed: "Rhizome (root)",
                preparation: ["Fresh", "Powder", "Paste", "Milk"],
                medicinalProperties: {
                    actions: "Anti-inflammatory, hepatoprotective, antioxidant, neuroprotective, antimicrobial",
                    activeCompounds: "Curcumin, turmerones, curcuminoids, volatile oils",
                    therapeuticUses: "Arthritis, inflammation, liver disease, cognitive decline, digestive issues",
                    contraindications: "Gallstones, blood-thinning medications, surgery (discontinue 2 weeks prior)"
                },
                recipes: [
                    {
                        title: "Golden Milk (Turmeric Latte)",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp turmeric powder", "1 cup milk", "Pinch black pepper", "Honey", "Cinnamon"],
                        steps: "Warm milk gently. Whisk in turmeric, black pepper, and cinnamon. Add honey to taste. Drink before bed for anti-inflammatory support."
                    },
                    {
                        title: "Turmeric Anti-inflammatory Paste",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "5 minutes",
                        ingredients: ["2 tbsp turmeric powder", "Water or coconut oil"],
                        steps: "Mix turmeric with enough liquid to form paste. Apply to inflamed joints or skin conditions. Leave 20 minutes, rinse. May stain skin temporarily."
                    }
                ],
                growing: "Tropical perennial requiring warm, humid conditions and rich soil. Similar growing requirements to ginger. Harvest rhizomes after 8-10 months when leaves begin to yellow.",
                location: "Native to Southeast Asia, particularly India. Cultivated throughout tropical regions with monsoon climates. Requires warm temperatures and high humidity year-round."
            },
            lemon_balm: {
                name: "Lemon Balm",
                latin: "Melissa officinalis",
                category: "nervous",
                image: "LEMON_BALM_25.jpg",
                description: "Lemon balm is a gentle nervine with a delightful lemony scent that calms anxiety, promotes sleep, and supports digestive health. This member of the mint family has antiviral properties and is particularly effective for stress-related digestive issues and nervous tension.",
                benefits: ["Calming", "Sleep Support", "Antiviral", "Digestive Aid", "Mood Support"],
                difficulty: "Easy",
                harvestTime: "Summer",
                partUsed: "Leaves",
                preparation: ["Tea", "Tincture", "Essential Oil", "Fresh"],
                medicinalProperties: {
                    actions: "Nervine, carminative, antiviral, antispasmodic, mild sedative",
                    activeCompounds: "Rosmarinic acid, citronellal, geraniol, triterpenes",
                    therapeuticUses: "Anxiety, insomnia, cold sores, digestive upset, ADHD",
                    contraindications: "Thyroid medications (may interfere), pregnancy (large amounts)"
                },
                recipes: [
                    {
                        title: "Lemon Balm Calming Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["2 tbsp fresh lemon balm", "1 cup boiling water", "Honey (optional)"],
                        steps: "Pour boiling water over fresh lemon balm leaves. Steep 8-10 minutes. Strain and add honey if desired. Drink for anxiety and sleep support."
                    },
                    {
                        title: "Lemon Balm Cold Sore Salve",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "1 hour",
                        ingredients: ["1/2 cup lemon balm oil", "2 tbsp beeswax", "10 drops tea tree oil"],
                        steps: "Melt beeswax in double boiler. Add lemon balm oil and stir. Remove from heat, add tea tree oil. Pour into containers. Apply to cold sores at first sign."
                    }
                ],
                growing: "Hardy perennial that grows vigorously in most conditions. Prefers partial shade and moist soil. Can become invasive, so consider container growing. Harvest leaves throughout growing season.",
                location: "Native to Europe and Mediterranean region, naturalized worldwide. Found in gardens, waste areas, and forest edges. Very adaptable to different climates and soil types."
            },
            marshmallow: {
                name: "Marshmallow",
                latin: "Althaea officinalis",
                category: "respiratory",
                image: "MARSHMALLOW_26.jpg",
                description: "Marshmallow is a supreme demulcent herb that soothes and protects mucous membranes throughout the body. Rich in mucilage, it provides relief for coughs, sore throats, digestive irritation, and skin conditions. It's particularly valuable for dry, irritated conditions.",
                benefits: ["Soothing", "Mucous Membrane Support", "Cough Relief", "Digestive Protection", "Skin Healing"],
                difficulty: "Easy",
                harvestTime: "Fall (roots), Summer (leaves)",
                partUsed: "Root, leaves",
                preparation: ["Cold Infusion", "Decoction", "Syrup", "Poultice"],
                medicinalProperties: {
                    actions: "Demulcent, emollient, anti-inflammatory, vulnerary, expectorant",
                    activeCompounds: "Mucilage, pectin, asparagine, tannins, flavonoids",
                    therapeuticUses: "Dry cough, sore throat, gastritis, skin irritation, urinary tract inflammation",
                    contraindications: "May slow absorption of medications (take separately)"
                },
                recipes: [
                    {
                        title: "Marshmallow Root Cold Infusion",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "8 hours",
                        ingredients: ["2 tbsp dried marshmallow root", "2 cups cold water"],
                        steps: "Soak marshmallow root in cold water for 6-8 hours or overnight. Strain and drink 1/2 cup 3-4 times daily for digestive or respiratory irritation."
                    },
                    {
                        title: "Marshmallow Leaf Poultice",
                        type: "Topical",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["Fresh marshmallow leaves", "Small amount warm water"],
                        steps: "Crush fresh leaves with warm water to form paste. Apply directly to insect bites, minor burns, or skin irritation. Cover with cloth, leave 20 minutes."
                    }
                ],
                growing: "Hardy perennial preferring moist, rich soil and full to partial sun. Deep taproot makes it drought tolerant once established. Harvest roots in fall of second year for best mucilage content.",
                location: "Native to Europe, Asia, and North Africa. Found in marshes, meadows, and moist soils. Cultivated in herb gardens and naturalized in some temperate regions."
            },
            slippery_elm: {
                name: "Slippery Elm",
                latin: "Ulmus rubra",
                category: "digestive",
                image: "SLIPPERY_ELM_27.jpg",
                description: "Slippery elm inner bark is one of the most soothing herbs for the digestive tract. This gentle demulcent coats and protects irritated mucous membranes, making it invaluable for ulcers, reflux, and inflammatory bowel conditions. It's also nourishing and easily digestible.",
                benefits: ["Digestive Soothing", "Ulcer Healing", "Reflux Relief", "Nourishing", "Mucous Membrane Protection"],
                difficulty: "Medium",
                harvestTime: "Spring (inner bark)",
                partUsed: "Inner bark",
                preparation: ["Gruel", "Tea", "Powder", "Capsules"],
                medicinalProperties: {
                    actions: "Demulcent, nutritive, anti-inflammatory, vulnerary, astringent",
                    activeCompounds: "Mucilage, tannins, starch, calcium, vitamins",
                    therapeuticUses: "Gastritis, ulcers, GERD, IBD, sore throat, malnutrition",
                    contraindications: "May slow absorption of medications (take 2 hours apart)"
                },
                recipes: [
                    {
                        title: "Slippery Elm Gruel",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp slippery elm powder", "1 cup warm water", "Honey and cinnamon"],
                        steps: "Whisk slippery elm powder into warm water until smooth. Add honey and cinnamon if desired. Drink slowly for digestive irritation and nourishment."
                    },
                    {
                        title: "Slippery Elm Throat Lozenges",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "2 hours",
                        ingredients: ["2 tbsp slippery elm powder", "1 tbsp honey", "1 tsp coconut oil"],
                        steps: "Mix ingredients to form dough. Roll into small balls, flatten. Let dry for 2 hours. Dissolve slowly in mouth for sore throat relief."
                    }
                ],
                growing: "Large deciduous tree preferring rich, moist soil and partial shade. Slow-growing and long-lived. Sustainable harvest requires careful bark collection from branches, not trunk.",
                location: "Native to eastern and central North America. Found in moist woodlands, stream banks, and rich bottomlands. Becoming rare due to Dutch elm disease and overharvesting."
            },
            ginkgo: {
                name: "Ginkgo",
                latin: "Ginkgo biloba",
                category: "nervous",
                image: "GINKGO_28.jpg",
                description: "Ginkgo is an ancient tree species known for enhancing circulation and cognitive function. The distinctive fan-shaped leaves contain compounds that improve blood flow to the brain, support memory, and protect against age-related cognitive decline. It's particularly valued for peripheral circulation.",
                benefits: ["Memory Enhancement", "Circulation", "Cognitive Support", "Antioxidant", "Vision Support"],
                difficulty: "Hard",
                harvestTime: "Fall (leaves)",
                partUsed: "Leaves",
                preparation: ["Standardized Extract", "Tincture", "Tea", "Capsules"],
                medicinalProperties: {
                    actions: "Circulatory stimulant, neuroprotective, antioxidant, anti-inflammatory, vasodilatory",
                    activeCompounds: "Flavonoids, terpenoids, ginkgolides, bilobalide",
                    therapeuticUses: "Memory loss, poor circulation, tinnitus, vertigo, macular degeneration",
                    contraindications: "Blood-thinning medications, seizure disorders, surgery (discontinue 2 weeks prior)"
                },
                recipes: [
                    {
                        title: "Ginkgo Memory Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1 tbsp dried ginkgo leaves", "1 cup boiling water"],
                        steps: "Steep ginkgo leaves in boiling water for 10-15 minutes. Strain and drink 1-2 cups daily for memory and circulation support. Effects may take 6-8 weeks."
                    }
                ],
                growing: "Ancient deciduous tree requiring well-drained soil and full sun. Very slow-growing but extremely hardy and long-lived. Female trees produce foul-smelling fruits; choose male cultivars for landscaping.",
                location: "Native to China, now cultivated worldwide as ornamental tree. Found in parks, streets, and gardens in temperate regions. One of the oldest living tree species on Earth."
            },
            st_johns_wort: {
                name: "St. John's Wort",
                latin: "Hypericum perforatum",
                category: "nervous",
                image: "ST_JOHNS_WORT_29.jpg",
                description: "St. John's Wort is renowned for its mood-supporting properties and ability to ease mild to moderate depression. The bright yellow flowers contain compounds that support neurotransmitter function and nervous system health. It's also valuable for nerve pain and wound healing.",
                benefits: ["Mood Support", "Antidepressant", "Nerve Pain Relief", "Wound Healing", "Anti-inflammatory"],
                difficulty: "Easy",
                harvestTime: "Summer (flowering tops)",
                partUsed: "Flowering tops",
                preparation: ["Oil", "Tincture", "Tea", "Capsules"],
                medicinalProperties: {
                    actions: "Antidepressant, nervine, vulnerary, anti-inflammatory, antiviral",
                    activeCompounds: "Hypericin, hyperforin, flavonoids, tannins",
                    therapeuticUses: "Mild depression, anxiety, nerve pain, wounds, viral infections",
                    contraindications: "Many drug interactions, photosensitivity, bipolar disorder, pregnancy"
                },
                recipes: [
                    {
                        title: "St. John's Wort Oil",
                        type: "Topical",
                        difficulty: "Medium",
                        time: "6 weeks",
                        ingredients: ["1 cup fresh St. John's wort flowers", "2 cups olive oil"],
                        steps: "Fill jar with fresh flowers, cover with oil. Place in sunny window for 4-6 weeks until oil turns red. Strain and use for nerve pain, wounds, and muscle aches."
                    },
                    {
                        title: "St. John's Wort Mood Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "10 minutes",
                        ingredients: ["1 tsp dried St. John's wort", "1 cup boiling water"],
                        steps: "Steep herb in boiling water for 8-10 minutes. Strain and drink 2-3 times daily for mood support. Consult healthcare provider before use."
                    }
                ],
                growing: "Hardy perennial preferring well-drained soil and full sun. Spreads via runners and can become weedy. Harvest flowering tops in midsummer when flowers are fully open.",
                location: "Native to Europe, naturalized throughout temperate regions. Found in fields, roadsides, and disturbed soils. Common in meadows and open woodlands."
            },
            valerian: {
                name: "Valerian",
                latin: "Valeriana officinalis",
                category: "nervous",
                image: "VALERIAN_30.jpg",
                description: "Valerian is one of nature's most effective sleep aids and anxiety remedies. The root contains compounds that promote relaxation and deep sleep without morning grogginess. While the smell is strong and unpleasant, the therapeutic effects for insomnia and nervous tension are remarkable.",
                benefits: ["Sleep Aid", "Anxiety Relief", "Muscle Relaxant", "Nerve Calming", "Stress Relief"],
                difficulty: "Easy",
                harvestTime: "Fall (roots)",
                partUsed: "Roots",
                preparation: ["Tincture", "Tea", "Capsules", "Decoction"],
                medicinalProperties: {
                    actions: "Sedative, nervine, antispasmodic, anxiolytic, muscle relaxant",
                    activeCompounds: "Valerenic acid, isovaleric acid, volatile oils, alkaloids",
                    therapeuticUses: "Insomnia, anxiety, muscle tension, restlessness, nervous exhaustion",
                    contraindications: "Sedative medications, surgery, liver disease, pregnancy/breastfeeding"
                },
                recipes: [
                    {
                        title: "Valerian Sleep Tincture",
                        type: "Internal",
                        difficulty: "Medium",
                        time: "4 weeks",
                        ingredients: ["1 part dried valerian root", "5 parts vodka"],
                        steps: "Chop valerian root, cover with vodka in jar. Shake daily for 4 weeks. Strain. Take 1-2 dropperfuls 30 minutes before bed for sleep support."
                    },
                    {
                        title: "Valerian Bedtime Tea",
                        type: "Internal",
                        difficulty: "Easy",
                        time: "15 minutes",
                        ingredients: ["1 tsp dried valerian root", "1 cup water", "Chamomile and honey"],
                        steps: "Simmer valerian root for 10 minutes. Add chamomile, steep 5 minutes. Strain, add honey. Drink 30-60 minutes before bed for sleep."
                    }
                ],
                growing: "Hardy perennial preferring moist, rich soil and partial shade. Forms clumps via rhizomes. Harvest roots in fall of second year when volatile oil content is highest.",
                location: "Native to Europe and Asia, naturalized in North America. Found in moist meadows, woodland edges, and stream banks. Widely cultivated for medicinal use."
            }
        };

        // App State
        let currentFilter = 'all';
        let currentSearch = '';
        let deferredPrompt;

        // Initialize App
        document.addEventListener('DOMContentLoaded', function() {
            loadPlants();
            setupEventListeners();
            setupPWA();
        });

        // Setup Event Listeners
        function setupEventListeners() {
            // Search
            document.getElementById('searchInput').addEventListener('input', handleSearch);
            document.getElementById('searchBtn').addEventListener('click', handleSearch);
            
            // Filter tabs
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.addEventListener('click', () => handleFilter(tab.dataset.filter));
            });

            // Close modal on background click
            document.getElementById('plantModal').addEventListener('click', (e) => {
                if (e.target.id === 'plantModal') closeModal();
            });

            // Close image modal on background click
            document.getElementById('imageModal').addEventListener('click', (e) => {
                if (e.target.id === 'imageModal') closeImageModal();
            });

            // Escape key to close modals
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    closeModal();
                    closeImageModal();
                }
            });
        }

        // Load and Display Plants
        function loadPlants() {
            const grid = document.getElementById('plantsGrid');
            const noResults = document.getElementById('noResults');
            
            const filteredPlants = Object.entries(plantsDatabase).filter(([key, plant]) => {
                const matchesFilter = currentFilter === 'all' || plant.category === currentFilter;
                const matchesSearch = currentSearch === '' || 
                    plant.name.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    plant.latin.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    plant.description.toLowerCase().includes(currentSearch.toLowerCase()) ||
                    plant.benefits.some(benefit => benefit.toLowerCase().includes(currentSearch.toLowerCase()));
                
                return matchesFilter && matchesSearch;
            });

            if (filteredPlants.length === 0) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }

            grid.style.display = 'grid';
            noResults.style.display = 'none';
            
            grid.innerHTML = filteredPlants.map(([key, plant]) => `
                <div class="plant-card" onclick="openPlantModal('${key}')">
                    <div class="plant-image" onclick="event.stopPropagation(); openImageModal('${key}')">
                        <img src="images/${plant.image}" alt="${plant.name}" 
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUwIiBoZWlnaHQ9IjIyMCIgdmlld0JveD0iMCAwIDM1MCAyMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjM1MCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiM3NGIyNzIiLz48dGV4dCB4PSIxNzUiIHk9IjExMCIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZG9taW5hbnQtYmFzZWxpbmU9Im1pZGRsZSIgZmlsbD0id2hpdGUiIGZvbnQtc2l6ZT0iMTgiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIj4ke plant.name}</text></svg>'"
                             loading="lazy">
                        <div class="image-zoom-icon">üîç</div>
                        <div class="plant-category">${getCategoryName(plant.category)}</div>
                    </div>
                    <div class="plant-content">
                        <div class="plant-header">
                            <h3 class="plant-name">${plant.name}</h3>
                            <p class="plant-latin">${plant.latin}</p>
                        </div>
                        
                        <p class="plant-description">${plant.description.substring(0, 140)}...</p>
                        
                        <div class="plant-info-grid">
                            <div class="info-section">
                                <div class="info-title">üå± Difficulty</div>
                                <div class="info-content">${plant.difficulty}</div>
                            </div>
                            <div class="info-section">
                                <div class="info-title">üïê Harvest</div>
                                <div class="info-content">${plant.harvestTime}</div>
                            </div>
                        </div>
                        
                        <div class="plant-stats">
                            <div class="stat-item">
                                <div class="stat-value">${plant.recipes.length}</div>
                                <div class="stat-label">Recipes</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${plant.partUsed}</div>
                                <div class="stat-label">Part Used</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">${plant.preparation.length}</div>
                                <div class="stat-label">Preparations</div>
                            </div>
                        </div>
                        
                        <div class="plant-benefits">
                            ${plant.benefits.slice(0, 4).map(benefit => `<span class="benefit-tag">${benefit}</span>`).join('')}
                        </div>
                        
                        <div class="plant-actions">
                            <button class="action-btn btn-primary">Learn More</button>
                            <button class="action-btn btn-secondary">View Recipes</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Get Category Display Name
        function getCategoryName(category) {
            const categories = {
                digestive: 'Digestive',
                respiratory: 'Respiratory',
                nervous: 'Nervous System',
                immune: 'Immune Support',
                skin: 'Skin Care'
            };
            return categories[category] || 'General';
        }

        // Handle Search
        function handleSearch() {
            currentSearch = document.getElementById('searchInput').value.trim();
            loadPlants();
        }

        // Handle Filter
        function handleFilter(filter) {
            currentFilter = filter;
            
            // Update tab appearance
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
            
            loadPlants();
        }

        // Open Plant Modal
        function openPlantModal(plantKey) {
            const plant = plantsDatabase[plantKey];
            if (!plant) return;

            document.getElementById('modalTitle').textContent = plant.name;
            document.getElementById('modalLatin').textContent = plant.latin;
            
            // Info tab
            document.getElementById('modalDescription').innerHTML = `
                <div class="detailed-info">
                    <h3>Overview</h3>
                    <p>${plant.description}</p>
                    
                    <div class="properties-grid">
                        <div class="property-item">
                            <div class="property-name">Actions</div>
                            <div class="property-value">${plant.medicinalProperties.actions}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-name">Active Compounds</div>
                            <div class="property-value">${plant.medicinalProperties.activeCompounds}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-name">Therapeutic Uses</div>
                            <div class="property-value">${plant.medicinalProperties.therapeuticUses}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-name">Contraindications</div>
                            <div class="property-value">${plant.medicinalProperties.contraindications}</div>
                        </div>
                    </div>
                </div>
            `;
            
            document.getElementById('modalBenefits').innerHTML = `
                <div class="detailed-info">
                    <h3>Medicinal Benefits</h3>
                    <div class="plant-benefits">
                        ${plant.benefits.map(benefit => `<span class="benefit-tag">${benefit}</span>`).join('')}
                    </div>
                    <div style="margin-top: 16px;">
                        <strong>Preparation Methods:</strong> ${plant.preparation.join(', ')}
                    </div>
                </div>
            `;
            
            // Recipes tab
            document.getElementById('modalRecipes').innerHTML = plant.recipes.map(recipe => `
                <div class="recipe-card">
                    <h4 class="recipe-title">${recipe.title}</h4>
                    <div class="recipe-meta">
                        <span><strong>Type:</strong> ${recipe.type}</span>
                        <span><strong>Difficulty:</strong> ${recipe.difficulty}</span>
                        <span><strong>Time:</strong> ${recipe.time}</span>
                    </div>
                    <div class="recipe-ingredients">
                        <strong>Ingredients:</strong>
                        <ul>${recipe.ingredients.map(ing => `<li>${ing}</li>`).join('')}</ul>
                    </div>
                    <div class="recipe-steps">
                        <strong>Instructions:</strong><br>
                        ${recipe.steps}
                    </div>
                </div>
            `).join('');
            
            // Growing tab
            document.getElementById('modalGrowing').innerHTML = `
                <div class="detailed-info">
                    <h3>Growing Information</h3>
                    <p>${plant.growing}</p>
                    
                    <div class="properties-grid">
                        <div class="property-item">
                            <div class="property-name">Difficulty Level</div>
                            <div class="property-value">${plant.difficulty}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-name">Harvest Time</div>
                            <div class="property-value">${plant.harvestTime}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-name">Part Used</div>
                            <div class="property-value">${plant.partUsed}</div>
                        </div>
                        <div class="property-item">
                            <div class="property-name">Preparations</div>
                            <div class="property-value">${plant.preparation.join(', ')}</div>
                        </div>
                    </div>
                </div>
            `;
            
            // Location tab
            document.getElementById('modalLocation').innerHTML = `
                <div class="detailed-info">
                    <h3>Natural Habitat & Distribution</h3>
                    <p>${plant.location}</p>
                </div>
            `;
            
            document.getElementById('plantModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Open Image Modal
        function openImageModal(plantKey) {
            const plant = plantsDatabase[plantKey];
            if (!plant) return;

            document.getElementById('imageModalTitle').textContent = plant.name;
            document.getElementById('modalPlantImage').src = `images/${plant.image}`;
            document.getElementById('modalPlantImage').alt = plant.name;
            document.getElementById('visualDescription').textContent = plant.visualDescription || "Visual description not available.";
            
            document.getElementById('imageModal').style.display = 'block';
            document.body.style.overflow = 'hidden';
        }

        // Close Image Modal
        function closeImageModal() {
            document.getElementById('imageModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Close Modal
        function closeModal() {
            document.getElementById('plantModal').style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        // Show Tab in Modal
        function showTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.modal-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            event.target.classList.add('active');
            
            // Show/hide tab content
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName + 'Tab').classList.add('active');
        }

        // PWA Setup
        function setupPWA() {
            // Register Service Worker
            if ('serviceWorker' in navigator) {
                const swCode = `
                    const CACHE_NAME = 'herbal-trinity-v1';
                    const urlsToCache = [
                        '/',
                        '/manifest.json'
                    ];

                    self.addEventListener('install', function(event) {
                        event.waitUntil(
                            caches.open(CACHE_NAME)
                                .then(function(cache) {
                                    return cache.addAll(urlsToCache);
                                })
                        );
                    });

                    self.addEventListener('fetch', function(event) {
                        event.respondWith(
                            caches.match(event.request)
                                .then(function(response) {
                                    if (response) {
                                        return response;
                                    }
                                    return fetch(event.request);
                                }
                            )
                        );
                    });
                `;
                
                const blob = new Blob([swCode], { type: 'application/javascript' });
                const swUrl = URL.createObjectURL(blob);
                
                navigator.serviceWorker.register(swUrl)
                    .then(registration => console.log('SW registered'))
                    .catch(error => console.log('SW registration failed'));
            }

            // Install prompt
            window.addEventListener('beforeinstallprompt', (e) => {
                e.preventDefault();
                deferredPrompt = e;
                document.getElementById('installBtn').style.display = 'block';
            });

            document.getElementById('installBtn').addEventListener('click', () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then((choiceResult) => {
                        if (choiceResult.outcome === 'accepted') {
                            document.getElementById('installBtn').style.display = 'none';
                        }
                        deferredPrompt = null;
                    });
                }
            });
        }

        // Add new plant function (for easy expansion)
        function addNewPlant(plantData) {
            const key = plantData.name.toLowerCase().replace(/\s+/g, '_');
            plantsDatabase[key] = plantData;
            loadPlants();
        }

        // Export function for easy data management
        function exportPlantsData() {
            const dataStr = JSON.stringify(plantsDatabase, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'plants_database.json';
            link.click();
        }

        // Import function for easy data management
        function importPlantsData(jsonData) {
            try {
                const newData = JSON.parse(jsonData);
                Object.assign(plantsDatabase, newData);
                loadPlants();
                console.log('Plants data imported successfully');
            } catch (error) {
                console.error('Error importing plants data:', error);
            }
        }

        // Template for adding new plants
        const plantTemplate = {
            name: "",
            latin: "",
            category: "", // digestive, respiratory, nervous, immune, skin
            image: "",
            description: "",
            benefits: [],
            difficulty: "", // Easy, Medium, Hard
            harvestTime: "",
            partUsed: "",
            preparation: [],
            medicinalProperties: {
                actions: "",
                activeCompounds: "",
                therapeuticUses: "",
                contraindications: ""
            },
            recipes: [
                {
                    title: "",
                    type: "", // Internal, Topical, Inhalation, Aromatherapy
                    difficulty: "",
                    time: "",
                    ingredients: [],
                    steps: ""
                }
            ],
            growing: "",
            location: ""
        };
    </script>
</body>
</html>
